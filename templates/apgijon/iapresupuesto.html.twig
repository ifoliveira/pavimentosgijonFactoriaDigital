<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta content="reformas de ba√±os, Gij√≥n, dise√±o de ba√±os, remodelaci√≥n de cuartos de ba√±o, accesorios de ba√±os, decoraci√≥n de interiores, presupuesto gratuito, azulejos para ba√±os, platos de ducha, sanitarios, grifer√≠a de ba√±o, instalaci√≥n de ba√±eras, renovaci√≥n de cuartos de ba√±o, expertos en ba√±os, calidad en reformas." name="keywords">
<meta content="Descubre las mejores reformas de ba√±os en Gij√≥n con nuestro equipo experto. Convierte tu ba√±o en un espacio acogedor y funcional que se adapte a tu estilo de vida. En Pavimentos Gij√≥n, nos especializamos en crear ba√±os que equilibran la comodidad con el dise√±o, proporcionando soluciones personalizadas para cada hogar en Gij√≥n. Servicios de calidad, dise√±o personalizado y atenci√≥n al detalle. Solicita tu presupuesto gratuito hoy mismo." name="description">
<meta property="og:image" content="https://www.pavimentosgijon.es/assets/images/logo.png" /> 
<meta property="og:title" content="Reformas integrales ba√±os Gij√≥n"/>
<meta property="og:url" content="https://www.pavimentosgijon.es/" />
<meta property="og:site_name" content="Tienda de ba√±o en gij√≥n" />
<meta property="og:type" content="mainpage" />

<!-- page title -->
<title>Reformas integral de ba√±os en Gij√≥n | Pavimentos Gij√≥n</title>
<!-- favicon -->
<link rel="icon" type="image/png" sizes="16x16" href="{{ asset('/img/favicon.png')}}">
<!-- bootstrap core CSS -->
<link href="{{ asset('/Light-HTML/css/bootstrap.min.css')}}" rel="stylesheet" >
<!-- bootstrap icons -->
<link href="{{ asset('/Light-HTML/css/bootstrap-icons.css')}}" rel="stylesheet">
<!-- owl carousel -->
<link href="{{ asset('/Light-HTML/css/owl.carousel.min.css')}}" rel="stylesheet">
<link href="{{ asset('/Light-HTML/css/owl.theme.default.min.css')}}" rel="stylesheet">
<!-- venobox css -->
<link href="{{ asset('/Light-HTML/css/venobox.css')}}" rel="stylesheet">
<!-- custom styles for this template -->
<link href="{{ asset('/Light-HTML/css/custom.css')}}" rel="stylesheet">
<link href="{{ asset('/Light-HTML/css/responsive.css')}}" rel="stylesheet">
<link href="{{ asset('/Light-HTML/css/helper.css')}}" rel="stylesheet">
<link rel="canonical" href="https://www.pavimentosgijon.es/reforma-integral-banos-gijon" />

</head>
<body>
<!-- ================ Preloader ================ -->
<div id="preloader">
  <div class="spinner-grow" role="status"> <span class="visually-hidden">Loading...</span> </div>
</div>
<!-- ================ Preloader end ================ --> 

<!-- ================ Header ================ -->
  {% include 'apgijon/header.html.twig' %}
<!-- ================ Header end ================ --> 

<!-- ================ inner page header ================ 
<div class="inner-page-title inner-page-header-bg">
  <div class="container">
    <div class="inner-page-title-c">
      <h1>Calcula tu presupuesto de una reforma del ba√±o en Gij√≥n</h1>
      <div class="breadcrumb-box"> 
        <!-- breadcrumb 
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="{{ path('homepage')}}"><i class="bi bi-house"></i> Inicio</a></li>
          <li class="breadcrumb-item active" aria-current="page">Calcular presupuesto</li>
        </ol>
      </div>
    </div>
  </div>
</div>
<!-- ================ inner page header end ================ --> 

<!-- ================ Single services page ================ -->
<div class="single-services-page pt-70 pb-40">
  <div class="container">
    <div class="row">
        <div class="col-lg-12 mb-30"> 
          <!-- Paso 1: Selecci√≥n del tipo de reforma -->
          <div id="selector-reforma" class="p-4 bg-light rounded shadow text-center">
            <h4 class="mb-4">üëã ¬øQu√© tipo de reforma quieres hacer?</h4>
            <button class="btn btn-outline-primary m-2" onclick="iniciarChat('ducha')">üöø Cambiar ba√±era por plato de ducha</button>
            <button class="btn btn-outline-success m-2" onclick="iniciarChat('completo')">üèóÔ∏è Reforma completa del ba√±o</button>
            <!-- <button class="btn btn-outline-secondary m-2" onclick="iniciarChat('otro')">üõ†Ô∏è Otro tipo de reforma</button> -->
           <!-- <button class="btn btn-outline-secondary m-2" onclick="iniciarSimulado()">Simular ducha</button> -->

          </div>

          <!-- Paso 2: Caja de chat (oculta al principio) -->
          <div id="chat-box" class="chat-box p-4 bg-light rounded shadow" style="display: none;">
            <div id="chat-messages" style="height: 400px; overflow-y: auto; border: 1px solid #ccc; padding: 10px; margin-bottom: 10px;">
                <!-- Aqu√≠ se mostrar√°n los mensajes -->
            </div>
            <form id="chat-form" class="d-flex">
                <input type="text" id="chat-input" class="form-control me-2" placeholder="Escribe tu respuesta y pulsa Enviar" autocomplete="off">

                <button type="submit" class="btn btn-primary">Enviar</button>
            </form>
          </div>
        </div>
    </div>
  </div>
</div>
<!-- ================ Single services page end ================ --> 

<!-- ================ Gallery page ================ -->
<div class="gallery-page pt-70 pb-40">
  <div class="container">
    <h3 class="mb-15">Nuestros trabajos en reformas de ba√±os</h3>  
    <div class="row row-cols-lg-3 row-cols-md-2 row-cols-sm-2 row-cols-1">
      <div class="col mb-30"> 
        <!-- gallery box -->
        <div class="gallery-box">
          <div class="image"><img src="{{ asset('/Light-HTML/img/gallery/bano1-mini.jpeg')}}" alt="Reforma integral ba√±o Gij√≥n"></div>
          <a href="{{ asset('/Light-HTML/img/gallery/bano1.jpeg')}}" class="zoom venobox" data-gall="gallery1"><i class="bi bi-camera"></i></a> 
        </div>
        <!-- gallery box --> 
        <div class="blog-item-content">
            <h6><a href="{{ asset('/Light-HTML/img/gallery/mampara1.jpeg')}}" class="zoom venobox" data-gall="gallery1">Reforma integral de ba√±o</a></h6>
            <p>Reforma integral de ba√±o con ba√±era y mampara de crital fijo</p>
          </div>         
      </div>

      <div class="col mb-30"> 
        <!-- gallery box -->
        <div class="gallery-box">
          <div class="image"><img src="{{ asset('/Light-HTML/img/gallery/bano2-mini.jpeg')}}" alt="Reformar ba√±o Gij√≥n"></div>
          <a href="{{ asset('/Light-HTML/img/gallery/bano2.jpeg')}}" class="zoom venobox" data-gall="gallery1"><i class="bi bi-camera"></i></a> 
        </div>
        <!-- gallery box --> 
        <div class="blog-item-content">
            <h6><a href="{{ asset('/Light-HTML/img/gallery/mampara1.jpeg')}}" class="zoom venobox" data-gall="gallery1">Reforma integral de ba√±o</a></h6>
            <p>Retirada de bid√© con grupo de ducha y mampara de fijo y corredera con un amplio plato de ducha</p>
          </div>         
      </div>


      <div class="col mb-30"> 
        <!-- gallery box -->
        <div class="gallery-box">
          <div class="image"><img src="{{ asset('/Light-HTML/img/gallery/bano3-mini.jpeg')}}" alt="Reforma de ba√±o en Gij√≥n"></div>
          <a href="{{ asset('/Light-HTML/img/gallery/bano3.jpeg')}}" class="zoom venobox" data-gall="gallery1"><i class="bi bi-camera"></i></a> 
        </div>
        <!-- gallery box --> 
        <div class="blog-item-content">
            <h6><a href="{{ asset('/Light-HTML/img/gallery/mampara1.jpeg')}}" class="zoom venobox" data-gall="gallery1">Reforma integral de ba√±o</a></h6>
            <p>Cambio completo de ba√±o con ventana dentro del plato de la ducha antideslizante y mampara fijo m√°s corredera muy amplia </p>
          </div>         
      </div>

    </div>
  </div>
</div>
<!-- ================ Gallery page end ================ --> 

<!-- ================ Modal area ================ -->


<div class="modal fade" id="modalContacto" tabindex="-1" aria-labelledby="modalContactoLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content shadow">
      <div class="modal-header bg-primary text-white">
        <h5 class="modal-title" id="modalContactoLabel">üí¨ Antes de descargar el presupuesto</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
      </div>
      <div class="modal-body p-4">
        {{ form_start(form, {'attr' : { 'class': 'contact-form','target': '_blank'}}) }}

        <div class="form-floating mb-3">
          <input type="text" class="form-control" id="nombre" name="{{ field_name(form.nombre)}}" placeholder="Tu nombre" required>
          <label for="nombre">Tu nombre</label>
        </div>

        <div class="form-floating mb-3">
          <input type="email" class="form-control" id="email" name="{{ field_name(form.email)}}" placeholder="Tu email" required>
          <label for="email">Tu email</label>
        </div>

        <div class="form-floating mb-3">
          <input type="text" class="form-control" id="telefono" name="{{ field_name(form.telefono)}}" placeholder="Tel√©fono" required>
          <label for="telefono">Tel√©fono</label>
        </div>

        <div class="form-floating mb-3">
          <textarea class="form-control" placeholder="Tu mensaje" id="pregunta" name="{{ field_name(form.pregunta)}}" style="height: 100px;"></textarea>
          <label for="pregunta">¬øQuieres dejar un comentario?</label>
        </div>

        <input type="hidden" id="campo-json-presupuesto" name="{{ field_name(form.jsonPresupuesto) }}">

        <button type="submit" class="btn btn-primary w-100 mt-3">
          <i class="bi bi-download"></i> Descargar presupuesto
        </button>

        {{ form_end(form) }}
      </div>
    </div>
  </div>
</div>


<!-- ================ Modal area end ================ -->

<!-- ================ Call us area ================ -->
<div class="call-us-area">
  <div class="container">
    <div class="call-us-text">Tambi√©n por whatsapp  <a href="https://api.whatsapp.com/send/?phone=684608811" target="_blank"><i class="bi bi-whatsapp"></i> 684 608 811</a></div>
  </div>
</div>
<!-- ================ Call us area end ================ -->

<!-- ================ Footer area ================ -->
  {% include 'apgijon/footer.html.twig' %}
<!-- ================ Footer area end ================ --> 
<!-- ================ Top scroll ================ --> 
<a href="#" class="scroll-top"><i class="bi bi-capslock"></i></a> 
<!-- ================ Top scroll end ================ -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
<!-- js files --> 
<script src="{{ asset('/Light-HTML/js/jquery-3.6.0.min.js')}}"></script> 
<script src="{{ asset('/Light-HTML/js/bootstrap.bundle.min.js')}}"></script> 
<!-- counter js --> 
<script src="{{ asset('/Light-HTML/js/jquery-1.10.2.min.js')}}"></script> 
<script src="{{ asset('/Light-HTML/js/waypoints.min.js')}}"></script> 
<script src="{{ asset('/Light-HTML/js/jquery.counterup.min.js')}}"></script> 
<!-- venobox js --> 
<script src="{{ asset('/Light-HTML/js/venobox.min.js')}}"></script> 
<!-- owl carousel --> 
<script src="{{ asset('/Light-HTML/js/owl.carousel.min.js')}}"></script> 
<!-- sticky js --> 
<script src="{{ asset('/Light-HTML/js/jquery.sticky.js')}}"></script> 
<!-- script js --> 
<script src="{{ asset('/Light-HTML/js/custom.js')}}"></script>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-WH8B9E41FY"></script>

{# RUTAS DIN√ÅMICAS DESDE SYMFONY #}
<script>
  const RUTA_CHAT = "{{ path('api_presupuesto_chat') }}";
  const RUTA_CALCULAR = "{{ path('api_presupuesto_calculate') }}";
  const RUTA_PDF = "{{ path('api_presupuesto_calculate') }}";
  const RUTA_LEAD = "{{ path('api_presupuesto_calculate') }}";
</script>

{# GOOGLE ANALYTICS (puedes moverlo al <head> si lo prefieres) #}
<script src="{{ asset('js/gtag.js') }}"></script>

{# DETECTAR NAV ACTIVO EN LA BARRA DE NAVEGACI√ìN #}
<script src="{{ asset('js/nav-activo.js') }}"></script>

{# FUNCIONES BASE PARA MOSTRAR MENSAJES, INICIAR CHAT, ETC. #}
<script src="{{ asset('js/chat-presupuesto.js') }}"></script>

{# MANEJA LOS EVENTOS DEL CHAT: enviar mensaje, procesar respuesta, calcular presupuesto #}
<script src="{{ asset('js/chat-handler.js') }}"></script>

{# PERMITE LANZAR UN PRESUPUESTO SIMULADO DE PRUEBA #}
<script src="{{ asset('js/iniciar-simulado.js') }}"></script>

<style>
  /* ====== Elegancia ligera para tu selector y chat (sin cambiar HTML/JS) ====== */

  /* Contenedor del selector */
  #selector-reforma {
    background: linear-gradient(180deg, #ffffff, #f8fafc);
    border: 1px solid #eef2f7;
    border-radius: 16px !important;
    box-shadow: 0 12px 30px rgba(16, 24, 40, 0.06);
  }
  #selector-reforma h4 {
    font-weight: 800;
    letter-spacing: 0.2px;
    margin-bottom: 1rem !important;
  }
  #selector-reforma .btn {
    border-width: 1px;
    border-radius: 14px;
    padding: .85rem 1.1rem;
    font-weight: 600;
    transition: transform .12s ease, box-shadow .15s ease, border-color .15s ease, background-color .15s ease, color .15s ease;
    white-space: normal;
    line-height: 1.2;
  }
  #selector-reforma .btn:hover {
    transform: translateY(-1px);
    box-shadow: 0 10px 24px rgba(2, 6, 23, 0.08);
  }
  /* Colores un poco m√°s finos para los outline */
  #selector-reforma .btn-outline-primary { border-color:#cfe0ff; color:#175cd3; }
  #selector-reforma .btn-outline-primary:hover { background:#e9f1ff; border-color:#b3d1ff; color:#0b4cb3; }
  #selector-reforma .btn-outline-success { border-color:#cdebd1; color:#027a48; }
  #selector-reforma .btn-outline-success:hover { background:#eaf7ed; border-color:#b6e2bc; color:#046037; }
  #selector-reforma .btn-outline-secondary { border-color:#e5e7eb; color:#374151; }
  #selector-reforma .btn-outline-secondary:hover { background:#f3f4f6; border-color:#d1d5db; color:#111827; }

  /* Chat: tarjeta limpia */
  .chat-box {
    background: #ffffff !important;
    border: 1px solid #eef2f7;
    border-radius: 16px !important;
    box-shadow: 0 12px 30px rgba(16, 24, 40, 0.06);
  }
  /* √Årea de mensajes */
  #chat-messages {
    border: 1px solid #eef2f7 !important;
    border-radius: 12px;
    background: linear-gradient(180deg, #fbfdff, #ffffff);
    padding: 12px !important;
  }

  /* Burbujas de mensaje (sin tocar tu appendMessage) */
  #chat-messages .msg {
    max-width: 78%;
    padding: .65rem .85rem;
    border-radius: 14px;
    margin: .25rem 0;
    font-size: 0.965rem;
    line-height: 1.35;
    box-shadow: 0 1px 0 rgba(17,24,39,.04);
  }
  #chat-messages .msg.ai {
    background: #f8fafc;
    border: 1px solid #eef2f7;
    color: #0b1220;
  }
  #chat-messages .msg.user {
    background: #2563eb;
    color: #fff;
    margin-left: auto;
    border: 1px solid rgba(37,99,235,.15);
  }

  /* Input + bot√≥n enviar (sin cambiar el form) */
  #chat-form .form-control {
    border-radius: 12px;
    border: 1px solid #e5e7eb;
    padding: .7rem .9rem;
    transition: box-shadow .15s ease, border-color .15s ease;
  }
  #chat-form .form-control:focus {
    border-color: #b3d1ff;
    box-shadow: 0 0 0 .2rem rgba(59,130,246,.15);
  }
  #chat-form .btn.btn-primary {
    border-radius: 12px;
    padding: .7rem 1.1rem;
    font-weight: 700;
    letter-spacing: .2px;
    box-shadow: 0 8px 18px rgba(37, 99, 235, 0.18);
    transition: transform .12s ease, box-shadow .15s ease, background-color .15s ease;
  }
  #chat-form .btn.btn-primary:hover {
    transform: translateY(-1px);
    box-shadow: 0 14px 26px rgba(37, 99, 235, 0.22);
  }

  /* Tipograf√≠a general del bloque */
  .single-services-page .container h3,
  .single-services-page h4,
  .gallery-page h3 {
    letter-spacing: .2px;
  }

  /* Responsive: mejor respiraci√≥n en m√≥vil */
  @media (max-width: 576px) {
    #selector-reforma .btn { width: 100%; margin: .35rem 0 !important; }
    #chat-messages { height: 360px !important; }
  }

#chat-form .hint {
  flex-basis: 100%; /* ocupa todo el ancho */
  margin-top: .4rem;
  font-size: .85rem;
  color:#6b7280;
  text-align: left;
}  
</style>
<style>
  /* Micro-hint bajo el input (ligero, opcional) */
  #chat-form .hint {
    font-size: .85rem; color:#6b7280; margin-left:.25rem; margin-top:.25rem;
  }
</style>

<script>
(function(){
  // --- CONFIG editable ---
  const TIMEOUT_ABANDONO_MS = 45000; // 45s sin contestar = abandono
  const TRACK_URL = '/api/presupuesto/chat-track'; // ya lo usas

  // --- refs existentes ---
  const chatBox = document.getElementById('chat-box');
  const selector = document.getElementById('selector-reforma');
  const chatForm = document.getElementById('chat-form');
  const chatInput = document.getElementById('chat-input');
  const chatMessages = document.getElementById('chat-messages');

  // Micro-hint no invasivo (solo lo a√±adimos una vez)
  (function ensureHint(){
    if (!chatForm || chatForm.querySelector('.hint')) return;
    const hint = document.createElement('div');
    hint.className = 'hint';
    hint.textContent = 'Tip: si no lo sabes, escribe ‚Äúno lo s√©‚Äù y seguimos.';
    chatForm.parentNode.appendChild(hint); ;
  })();

  // Estado local
  let firstQTimer = null;
  let firstQTracked = false;
  let firstQAnswered = false;
  let tipoReformaActual = null;

  // Envolvemos iniciarChat SOLO para a√±adir tracking/UX. Tu l√≥gica sigue igual.
  const iniciarChatOriginal = window.iniciarChat;
  window.iniciarChat = function(tipo){
    tipoReformaActual = tipo || null;

    // Mostrar chat si estaba oculto (sin tocar tu flujo)
    if (selector) selector.style.display = 'none';
    if (chatBox) chatBox.style.display = 'block';

    // Autofocus suave para invitar a responder
    setTimeout(() => { try { chatInput && chatInput.focus(); } catch(e){} }, 50);

    // Lanzar tracking de "first_question_shown" una sola vez por sesi√≥n de chat
    // (no necesitamos el texto exacto; si quieres, puedes a√±adirlo desde tu handler)
    if (!firstQTracked) {
      firstQTracked = true;
      safeTrack({
        evento: 'first_question_shown',
        tipo: tipoReformaActual,
        // Si quieres enviar la √∫ltima pregunta AI mostrada, descomenta:
        // pregunta: ultimaPreguntaAIDetectada()
      });
      // Temporizador de abandono si no hay respuesta
      firstQTimer = setTimeout(() => {
        if (!firstQAnswered) {
          safeTrack({ evento: 'first_question_abandon', tipo: tipoReformaActual });
          // GA4 opcional
          if (window.gtag) gtag('event', 'first_question_abandon', { tipo: tipoReformaActual || 'desconocido' });
        }
      }, TIMEOUT_ABANDONO_MS);

      // GA4 opcional
      if (window.gtag) gtag('event', 'first_question_shown', { tipo: tipoReformaActual || 'desconocido' });
    }

    // Dejar que tu funci√≥n haga todo lo dem√°s
    if (typeof iniciarChatOriginal === 'function') {
      return iniciarChatOriginal(tipo);
    }
  };

  // Cuando el usuario env√≠a la primera respuesta, limpiamos el timer y registramos "answered"
  if (chatForm) {
    chatForm.addEventListener('submit', function(){
      if (!firstQAnswered) {
        firstQAnswered = true;
        if (firstQTimer) { clearTimeout(firstQTimer); firstQTimer = null; }

        safeTrack({ evento: 'first_question_answered', tipo: tipoReformaActual });
        if (window.gtag) gtag('event', 'first_question_answered', { tipo: tipoReformaActual || 'desconocido' });
      }
    });
  }

  // Si se van de la p√°gina sin responder, intenta registrar abandono
  document.addEventListener('visibilitychange', function(){
    if (document.visibilityState === 'hidden' && firstQTracked && !firstQAnswered) {
      navigator.sendBeacon?.(TRACK_URL, JSON.stringify({
        evento: 'first_question_abandon',
        tipo: tipoReformaActual || null
      }));
    }
  });

  // Helper para obtener la √∫ltima pregunta AI mostrada (opcional)
  function ultimaPreguntaAIDetectada(){
    if (!chatMessages) return null;
    const nodes = Array.from(chatMessages.querySelectorAll('.msg.ai'));
    const last = nodes.length ? nodes[nodes.length - 1] : null;
    return last ? last.textContent.trim().slice(0, 300) : null; // corta a 300 chars
  }

  // POST seguro (sin romper flujo)
  async function safeTrack(payload){
    try {
      await fetch(TRACK_URL, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        keepalive: true, // ayuda en navegaci√≥n
        body: JSON.stringify(payload)
      });
    } catch(e) {
      // silencioso
      console.warn('tracking error', e);
    }
  }
})();
</script>

</body>
</html>